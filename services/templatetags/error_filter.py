from django import templatefrom django.template.defaultfilters import timesincefrom datetime import datetime, timedelta, timezonefrom dateutil import relativedeltafrom django.utils.timesince import timesincefrom ..models import ErrorReturnregister = template.Library()@register.filterdef unchecked(e):    object_list = []    for i in e:        if i.status == 'uncheck':            yield i    # return object_list@register.filterdef thisweek(e):    for i in e:        today = datetime.now().isocalendar().week        received = datetime.date(i.received_at).isocalendar().week        if today == received:            yield i@register.filterdef late(meanwhile=3):    object_list = []    for error in ErrorReturn.objects.order_by('-received_at'):        if not error.servicing.checked:            time_difference = error.received_at - datetime.today()            if time_difference >= timedelta(days=meanwhile):                object_list.append(error)    return object_list@register.filterdef done(e):    object_list = []    for error in e:        if error.servicing.done:            object_list.append(error)    return object_list